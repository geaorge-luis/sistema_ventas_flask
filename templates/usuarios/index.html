{% extends 'base.html' %}
{% block title %} USUARIOS {% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
	<h1 class="h4 mb-0">Lista de usuarios</h1>
	<a href="{{ url_for('usuario.new') }}" class="btn btn-primary">Nuevo</a>  <!-- ahora apunta a GET /usuarios/new -->
</div>

<table class="table table-striped">
	<thead>
		<tr>
			<th>ID</th>
			<th>Nombre</th>
			<th>Username</th>
			<th>Rol</th>
			<th>Acciones</th>
		</tr>
	</thead>
	<tbody>
		{% for usuario in usuarios %}
		<tr>
			<td>{{ usuario.id }}</td>
			<td>{{ usuario.nombre }}</td>        {# usa el nombre real del campo, p. ej. usuario.name #}
			<td>{{ usuario.username }}</td>     {# ajusta si tu campo se llama differently #}
			<td>{{ usuario.rol }}</td>
			<td>
				<a href="{{ url_for('usuario.edit', id=usuario.id) }}" class="btn btn-sm btn-secondary">Editar</a>
				<a href="{{ url_for('usuario.delete', id=usuario.id) }}" class="btn btn-sm btn-danger">Borrar</a>
			</td>
		</tr>
		{% else %}
		<tr><td colspan="5">No hay usuarios</td></tr>
		{% endfor %}
	</tbody>
</table>
{% endblock %}